{
	"Changes": [
	
//	DATA

		{
			"Action": "Load",
			"Target": "Maps/{{ModId}}_Custom_waterfall_cave_WaFFLE",
			"FromFile": "options/cave/WaFFLE_Cave.tmx"
		},
//
		{
			"Action": "EditData",
			"Target": "Data/Locations",
			"Entries": {
				"{{ModId}}_Custom_waterfall_cave_WaFFLE": {
					"DisplayName": "Waterfall Cave",
					"DefaultArrivalTile": {
						"X": 57,
						"Y": 14
					},
					"ExcludeFromNpcPathfinding": true,
					"CreateOnLoad": {
						"MapPath": "Maps/{{ModId}}_Custom_waterfall_cave_WaFFLE",
						"Type": null,
						"AlwaysActive": true
					},
					"FormerLocationNames": [ "Custom_waterfall_cave_WaFFLE" ],
					"CanPlantHere":true,
					"CanHaveGreenRainSpawns": true,
					"ArtifactSpots": [],
					"FishAreas": {},
					"Fish": [
						{
							"Chance": 0.4,
							"Season": null,
							"FishAreaId": null,
							"BobberPosition": null,
							"PlayerPosition": null,
							"MinFishingLevel": 0,
							"MinDistanceFromShore": 0,
							"MaxDistanceFromShore": -1,
							"ApplyDailyLuck": false,
							"CuriosityLureBuff": -1.0,
							"CatchLimit": -1,
							"IsBossFish": false,
							"SetFlagOnCatch": null,
							"RequireMagicBait": false,
							"Precedence": 0,
							"IgnoreFishDataRequirements": false,
							"CanBeInherited": true,
							"ChanceModifiers": null,
							"ChanceModifierMode": "Stack",
							"ChanceBoostPerLuckLevel": 0.0,
							"UseFishCaughtSeededRandom": false,
							"Condition": null,
							"Id": "(O)153|(O)156|(O)157",
							"ItemId": null,
							"RandomItemId": [
								"(O)153",
								"(O)156",
								"(O)157"
							],
							"MaxItems": null,
							"MinStack": -1,
							"MaxStack": -1,
							"Quality": -1,
							"ObjectInternalName": null,
							"ObjectDisplayName": null,
							"ToolUpgradeLevel": -1,
							"IsRecipe": false,
							"StackModifiers": null,
							"StackModifierMode": "Stack",
							"QualityModifiers": null,
							"QualityModifierMode": "Stack",
							"ModData": null,
							"PerItemCondition": null
						},
						{
							"Chance": 0.1,
							"Season": null,
							"FishAreaId": null,
							"BobberPosition": null,
							"PlayerPosition": null,
							"MinFishingLevel": 0,
							"MinDistanceFromShore": 0,
							"MaxDistanceFromShore": -1,
							"ApplyDailyLuck": false,
							"CuriosityLureBuff": -1.0,
							"CatchLimit": -1,
							"IsBossFish": false,
							"SetFlagOnCatch": null,
							"RequireMagicBait": false,
							"Precedence": 0,
							"IgnoreFishDataRequirements": false,
							"CanBeInherited": true,
							"ChanceModifiers": null,
							"ChanceModifierMode": "Stack",
							"ChanceBoostPerLuckLevel": 0.0,
							"UseFishCaughtSeededRandom": false,
							"Condition": null,
							"Id": "(O)158",
							"ItemId": "(O)158",
							"RandomItemId": null,
							"MaxItems": null,
							"MinStack": -1,
							"MaxStack": -1,
							"Quality": -1,
							"ObjectInternalName": null,
							"ObjectDisplayName": null,
							"ToolUpgradeLevel": -1,
							"IsRecipe": false,
							"StackModifiers": null,
							"StackModifierMode": "Stack",
							"QualityModifiers": null,
							"QualityModifierMode": "Stack",
							"ModData": null,
							"PerItemCondition": null
						}
					],
					"Forage": [],
					"MinDailyWeeds": 2,
					"MaxDailyWeeds": 5,
					"FirstDayWeedMultiplier": 15,
					"MinDailyForageSpawn": 1,
					"MaxDailyForageSpawn": 4,
					"MaxSpawnedForageAtOnce": 6,
					"ChanceForClay": 0.03,
					"Music": [],
					"MusicDefault": null,
					"MusicContext": "Default",
					"MusicIgnoredInRain": false,
					"MusicIgnoredInSpring": false,
					"MusicIgnoredInSummer": false,
					"MusicIgnoredInFall": false,
					"MusicIgnoredInFallDebris": false,
					"MusicIgnoredInWinter": false,
					"MusicIsTownTheme": false,
					"CustomFields": null
				}
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/{{ModId}}_Custom_waterfall_cave_WaFFLE",
			"MapProperties": { "IsGreenhouse": "T" }
		},

//	EXTERIOR ENTRANCES

        {
            "Action": "EditMap",
            "Target": "Maps/WaFFLE_Farm",
			"MapProperties": { "FarmCaveEntry": "34 6" }
        },
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"AddWarps": [ "34 5 FarmCave 8 11" ]
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 108, "Y": 67, "Width": 7, "Height": 8 },
			"ToArea": { "X": 82, "Y": 0, "Width": 7, "Height": 8 },
			"PatchMode": "Replace",
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Tent_Entrance_WaFFLE": "False"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 116, "Y": 67, "Width": 4, "Height": 8 },
			"ToArea": { "X": 85, "Y": 0, "Width": 4, "Height": 8 },
			"PatchMode": "Replace",
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Tent_Entrance_WaFFLE": "True"
			}
		},
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 121, "Y": 70, "Width": 1, "Height": 1 },
			"ToArea": { "X": 85, "Y": 7, "Width": 1, "Height": 1 },
			"PatchMode": "Replace",
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Tent_Entrance_WaFFLE": "True",
				"Season": "winter"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 98, "Y": 80, "Width": 4, "Height": 4 },
			"ToArea": { "X": 2, "Y": 11, "Width": 4, "Height": 4 },
			"PatchMode": "Replace",
			"When": { "Use_Waterfall_Cave_WaFFLE": "True" }
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 92, "Y": 80, "Width": 5, "Height": 5 },
			"ToArea": { "X": 152, "Y": 80, "Width": 5, "Height": 5 },
			"PatchMode": "Replace",
			"When": { "Use_Waterfall_Cave_WaFFLE": "True" }
		},
		
//	CAVE ADDITION

//	//	EXTERIOR

		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"AddWarps": [
				"86 5 {{ModId}}_Custom_waterfall_cave_WaFFLE 57 14",
				"3 13 {{ModId}}_Custom_waterfall_cave_WaFFLE 5 41",
				"4 13 {{ModId}}_Custom_waterfall_cave_WaFFLE 5 41",
				"153 81 {{ModId}}_Custom_waterfall_cave_WaFFLE 71 45"
			],
			"When": { "Use_Waterfall_Cave_WaFFLE": "True" }
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 32, "Y": 24, "Width": 4, "Height": 2 },
			"ToArea": { "X": 58, "Y": 92, "Width": 4, "Height": 2 },
			"PatchMode": "Replace",
			"When": {
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Beach_Type_WaFFLE": "Sea"
			}
		},
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 32, "Y": 21, "Width": 4, "Height": 2 },
			"ToArea": { "X": 58, "Y": 92, "Width": 4, "Height": 2 },
			"PatchMode": "Replace",
			"When": {
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Beach_Type_WaFFLE": "Lake, Dry, Dry_Pond"
			}
		},

//	//	INTERIOR

		{
			"Action": "EditMap",
			"Target": "Maps/{{ModId}}_Custom_waterfall_cave_WaFFLE",
			"AddWarps": [
				"57 15 Farm 86 6",			
				"0 44 Farm 4 15",				
				"0 45 Farm 4 15",
				"70 47 Farm 153 82",
				"71 47 Farm 153 82"
			],
			"When": { "Use_Waterfall_Cave_WaFFLE": "True" }
		},
//
        {
            "Action": "EditMap",
            "Target": "Maps/{{ModId}}_Custom_waterfall_cave_WaFFLE",
			"MapProperties": { "AmbientLight": "90 90 35" }
        },
//
        {
            "Action": "EditMap",
            "Target": "Maps/{{ModId}}_Custom_waterfall_cave_WaFFLE",
			"MapProperties": { "indoorWater": "T" }
        },		
//
		{
			"Action": "EditMap",
			"Target": "Maps/{{ModId}}_Custom_waterfall_cave_WaFFLE",
			"FromFile": "options/cave/WaFFLE_IN_Options_Cave.tmx",
			"FromArea": { "X": 14, "Y": 5, "Width": 5, "Height": 7 },
			"ToArea": { "X": 55, "Y": 9, "Width": 5, "Height": 7 },
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Tent_Entrance_WaFFLE": "True"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/{{ModId}}_Custom_waterfall_cave_WaFFLE",
			"MapProperties": { "CanCaskHere": "T" },
			"When": {
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Cellar_Allows_Casks_in_Cave_WaFFLE": "True",
				"FarmhouseUpgrade": 3
			}
		}
	]
}	  