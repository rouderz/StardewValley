{
	"Changes": [
	
//	DATA

		{
			"Action": "EditData",
			"Target": "Data/Locations",
			"Entries": { "Custom_waterfall_cave_WaFFLE": "-1/-1/-1/-1/153 -1 156 -1 157 -1 158 -1/153 -1 156 -1 157 -1 158 -1/153 -1 156 -1 157 -1 158 -1/153 -1 156 -1 157 -1 158 -1/-1" }
		},
		
//	EXTERIOR ENTRANCES

        {
            "Action": "EditMap",
            "Target": "Maps/WaFFLE_Farm",
			"MapProperties": { "FarmCaveEntry": "34 6" }
        },
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"AddWarps": [ "34 5 FarmCave 8 11" ]
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 108, "Y": 67, "Width": 7, "Height": 8 },
			"ToArea": { "X": 82, "Y": 0, "Width": 7, "Height": 8 },
			"PatchMode": "Replace",
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Tent_Entrance_WaFFLE": "False"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 116, "Y": 67, "Width": 4, "Height": 8 },
			"ToArea": { "X": 85, "Y": 0, "Width": 4, "Height": 8 },
			"PatchMode": "Replace",
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Tent_Entrance_WaFFLE": "True"
			}
		},
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 121, "Y": 70, "Width": 1, "Height": 1 },
			"ToArea": { "X": 85, "Y": 7, "Width": 1, "Height": 1 },
			"PatchMode": "Replace",
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Tent_Entrance_WaFFLE": "True",
				"Season": "winter"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 98, "Y": 80, "Width": 4, "Height": 4 },
			"ToArea": { "X": 2, "Y": 11, "Width": 4, "Height": 4 },
			"PatchMode": "Replace",
			"When": { "Use_Waterfall_Cave_WaFFLE": "True" }
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 92, "Y": 80, "Width": 5, "Height": 5 },
			"ToArea": { "X": 152, "Y": 80, "Width": 5, "Height": 5 },
			"PatchMode": "Replace",
			"When": { "Use_Waterfall_Cave_WaFFLE": "True" }
		},
		
//	CAVE ADDITION

//	//	EXTERIOR

		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"AddWarps": [
				"86 5 Custom_waterfall_cave_WaFFLE 57 14",
				"3 13 Custom_waterfall_cave_WaFFLE 5 41",
				"4 13 Custom_waterfall_cave_WaFFLE 5 41",
				"153 81 Custom_waterfall_cave_WaFFLE 71 45"
			],
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "False"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 32, "Y": 24, "Width": 4, "Height": 2 },
			"ToArea": { "X": 58, "Y": 92, "Width": 4, "Height": 2 },
			"PatchMode": "Replace",
			"When": {
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "False",				
				"Beach_Type_WaFFLE": "Sea"
			}
		},
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 32, "Y": 21, "Width": 4, "Height": 2 },
			"ToArea": { "X": 58, "Y": 92, "Width": 4, "Height": 2 },
			"PatchMode": "Replace",
			"When": {
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "False",	
				"Beach_Type_WaFFLE": "Lake, Dry, Dry_Pond"
			}
		},

//	//	INTERIOR

		{
			"Action": "EditMap",
			"Target": "Maps/Custom_waterfall_cave_WaFFLE",
			"AddWarps": [
				"57 15 Farm 86 6",			
				"0 44 Farm 4 15",				
				"0 45 Farm 4 15",
				"70 47 Farm 153 82",
				"71 47 Farm 153 82"
			],
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "False"
			}
		},
//
        {
            "Action": "EditMap",
            "Target": "Maps/Custom_waterfall_cave_WaFFLE",
			"MapProperties": { "AmbientLight": "90 90 35" }
        },
//
        {
            "Action": "EditMap",
            "Target": "Maps/Custom_waterfall_cave_WaFFLE",
			"MapProperties": { "indoorWater": "T" }
        },		
//
		{
			"Action": "EditMap",
			"Target": "Maps/Custom_waterfall_cave_WaFFLE",
			"FromFile": "options/cave/WaFFLE_IN_Options_Cave.tmx",
			"FromArea": { "X": 14, "Y": 5, "Width": 5, "Height": 7 },
			"ToArea": { "X": 55, "Y": 9, "Width": 5, "Height": 7 },
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "False",
				"Tent_Entrance_WaFFLE": "True"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/Custom_waterfall_cave_WaFFLE",
			"MapProperties": { "CanCaskHere": "T" },
			"When": {
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "False",
				"Cellar_Allows_Casks_in_Cave_WaFFLE": "True",
				"FarmhouseUpgrade": 3
			}
		},
		
//	CAVE REPLACEMENT

//	//	EXTERIOR

		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"AddWarps": [
				"86 5 FarmCave 57 14",
				"3 13 FarmCave 5 41",
				"4 13 FarmCave 5 41",
				"153 81 Farmcave 71 45"
			],
			"When": { 
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 37, "Y": 24, "Width": 4, "Height": 2 },
			"ToArea": { "X": 58, "Y": 92, "Width": 4, "Height": 2 },
			"PatchMode": "Replace",
			"When": {
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True",				
				"Beach_Type_WaFFLE": "Sea"
			}
		},
		{
			"Action": "EditMap",
			"Target": "Maps/WaFFLE_Farm",
			"FromFile": "options/WaFFLE_EX_Options.tmx",
			"FromArea": { "X": 37, "Y": 21, "Width": 4, "Height": 2 },
			"ToArea": { "X": 58, "Y": 92, "Width": 4, "Height": 2 },
			"PatchMode": "Replace",
			"When": {
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True",	
				"Beach_Type_WaFFLE": "Lake, Dry, Dry_Pond"
			}
		},

//	//	INTERIOR		
		
		{
            "Action": "Load",
            "Target": "Maps/FarmCave",
            "FromFile": "options/cave/WaFFLE_Cave.tmx",
			"When": {
                "FarmType": "A_TK.FarmProjectForaging/WaFFLE",
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True"
            }
        },		
//
		{
			"Action": "EditMap",
			"Target": "Maps/FarmCave",
			"AddWarps": [
				"8 12 Farm 34 6",			
				"57 15 Farm 86 6",			
				"0 44 Farm 4 15",				
				"0 45 Farm 4 15",
				"70 47 Farm 153 82",
				"71 47 Farm 153 82"
			],
			"When": { 
				"FarmType": "A_TK.FarmProjectForaging/WaFFLE",
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True"
			}
		},
//
        {
            "Action": "EditMap",
            "Target": "Maps/FarmCave",
			"MapProperties": { "AmbientLight": "90 90 35" },
			"When": { "FarmType": "A_TK.FarmProjectForaging/WaFFLE" }
        },
//
        {
            "Action": "EditMap",
            "Target": "Maps/FarmCave",
			"MapProperties": { "indoorWater": "T" },
			"When": { "FarmType": "A_TK.FarmProjectForaging/WaFFLE" }
        },		
//
		{
			"Action": "EditMap",
			"Target": "Maps/FarmCave",
			"FromFile": "options/cave/WaFFLE_IN_Options_Cave.tmx",
			"FromArea": { "X": 14, "Y": 0, "Width": 6, "Height": 4 },
			"ToArea": { "X": 49, "Y": 1, "Width": 6, "Height": 4 },
			"When": { 
				"FarmType": "A_TK.FarmProjectForaging/WaFFLE",
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/FarmCave",
			"FromFile": "options/cave/WaFFLE_IN_Options_Cave.tmx",
			"FromArea": { "X": 0, "Y": 0, "Width": 13, "Height": 13 },
			"ToArea": { "X": 0, "Y": 0, "Width": 13, "Height": 13 },
			"PatchMode": "Replace",
			"When": { 
				"FarmType": "A_TK.FarmProjectForaging/WaFFLE",
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/FarmCave",
			"FromFile": "options/cave/WaFFLE_IN_Options_Cave.tmx",
			"FromArea": { "X": 14, "Y": 13, "Width": 1, "Height": 2 },
			"ToArea": { "X": 78, "Y": 18, "Width": 1, "Height": 2 },
			"PatchMode": "Replace",
			"When": { 
				"FarmType": "A_TK.FarmProjectForaging/WaFFLE",
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True"
			}
		},	
		{
			"Action": "EditMap",
			"Target": "Maps/FarmCave",
			"FromFile": "options/cave/WaFFLE_IN_Options_Cave.tmx",
			"FromArea": { "X": 16, "Y": 13, "Width": 1, "Height": 2 },
			"ToArea": { "X": 72, "Y": 45, "Width": 1, "Height": 2 },
			"PatchMode": "Replace",
			"When": { 
				"FarmType": "A_TK.FarmProjectForaging/WaFFLE",
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/FarmCave",
			"FromFile": "options/cave/WaFFLE_IN_Options_Cave.tmx",
			"FromArea": { "X": 14, "Y": 5, "Width": 5, "Height": 7 },
			"ToArea": { "X": 55, "Y": 9, "Width": 5, "Height": 7 },
			"When": { 
				"FarmType": "A_TK.FarmProjectForaging/WaFFLE",
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True",
				"Tent_Entrance_WaFFLE": "True"
			}
		},
//
		{
			"Action": "EditMap",
			"Target": "Maps/FarmCave",
			"MapProperties": { "CanCaskHere": "T" },
			"When": {
				"FarmType": "A_TK.FarmProjectForaging/WaFFLE",
				"Use_Waterfall_Cave_WaFFLE": "True",
				"Replace_Normal_Cave_WaFFLE": "True",			
				"Cellar_Allows_Casks_in_Cave_WaFFLE": "True",
				"FarmhouseUpgrade": 3
			}
		}
	]
}	  